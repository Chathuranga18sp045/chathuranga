<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chathuranga Malik - Software Engineer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Load Common Configuration -->
    <script src="config.js"></script>
    
    <script>
        // Tailwind CSS Configuration
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#1dd1a1',
                        'primary-light': '#26d0ce',
                        'primary-dark': '#16a085',
                        'dark-overlay': '#0a2e2a',
                        'dark-bg': '#0f2027',
                        'about-bg': '#1a3332'
                    },
                    animation: {
                        'float-shape': 'floatShape 20s infinite linear',
                        'fade-in-up': 'fadeInUp 0.8s ease forwards',
                        'float': 'float 3s ease-in-out infinite',
                    },
                    keyframes: {
                        floatShape: {
                            '0%': { transform: 'translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateY(-100px) rotate(180deg)' },
                            '100%': { transform: 'translateY(0) rotate(360deg)' }
                        },
                        fadeInUp: {
                            'from': { opacity: '0', transform: 'translateY(30px)' },
                            'to': { opacity: '1', transform: 'translateY(0)' }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' }
                        }
                    },
                    backgroundImage: {
                        'hero-pattern': 'linear-gradient(to right, rgba(10, 46, 42, 0.9) 0%, rgba(10, 46, 42, 0.7) 30%, rgba(10, 46, 42, 0.3) 50%, transparent 100%), url("https://demo.awaikenthemes.com/pixion/wp-content/uploads/2025/02/hero-bg.jpg")',
                        'logo-gradient': 'linear-gradient(135deg, #1dd1a1, #26d0ce)',
                        'btn-gradient': 'linear-gradient(135deg, #1dd1a1, #26d0ce)',
                        'navbar-solid': 'linear-gradient(90deg, #16a085, #1dd1a1)',
                        'text-gradient': 'linear-gradient(135deg, #1dd1a1, #26d0ce)'
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Custom CSS that cannot be replicated with Tailwind */
        .hero-bg {
            background: linear-gradient(to right, rgba(10, 46, 42, 0.9) 0%, rgba(10, 46, 42, 0.7) 30%, rgba(10, 46, 42, 0.3) 50%, transparent 100%), 
                        url('https://demo.awaikenthemes.com/pixion/wp-content/uploads/2025/02/hero-bg.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        
        .navbar-transparent {
            background: transparent !important;
            backdrop-filter: none !important;
        }
        
        .navbar-solid {
            background: linear-gradient(90deg, #16a085, #1dd1a1) !important;
            backdrop-filter: blur(10px) !important;
        }
        
        .play-btn::before {
            content: '';
            width: 0;
            height: 0;
            border-left: 12px solid #1dd1a1;
            border-top: 8px solid transparent;
            border-bottom: 8px solid transparent;
            margin-left: 3px;
        }
        
        .text-gradient {
            background: linear-gradient(135deg, #1dd1a1, #26d0ce);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .typewriter {
            overflow: hidden;
            border-right: 3px solid #1dd1a1;
            white-space: nowrap;
            animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #1dd1a1 }
        }
        
        /* Iframe auto-height - This allows iframes to size naturally */
        .about-iframe, .footer-iframe {
            border: none;
            width: 100%;
            display: block;
        }
        
        /* Remove min-height constraints to allow natural sizing */
        #about, #footer {
            height: auto;
        }
    </style>
</head>
<body class="overflow-x-hidden">
    <!-- Navigation -->
    <nav id="navbar" class="fixed top-0 w-full px-8 md:px-12 py-4 flex justify-between items-center z-50 transition-all duration-300 navbar-transparent">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-gradient-to-r from-primary to-primary-light rounded-full flex items-center justify-center text-white font-bold text-sm">
                CM
            </div>
            <span class="text-xl font-bold text-white">Chathuranga.</span>
        </div>
        
        <ul class="hidden md:flex gap-8 lg:gap-10 list-none">
            <li><a href="#home" class="text-white font-medium hover:text-primary transition-colors duration-300 relative group">
                Home
                <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
            </a></li>
            <li><a href="#about" class="text-white font-medium hover:text-primary transition-colors duration-300 relative group">
                About Me
                <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
            </a></li>
            <li><a href="#services" class="text-white font-medium hover:text-primary transition-colors duration-300 relative group">
                Services
                <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
            </a></li>
            <li><a href="#portfolio" class="text-white font-medium hover:text-primary transition-colors duration-300 relative group">
                Portfolio
                <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
            </a></li>
            <li><a href="#contact" class="text-white font-medium hover:text-primary transition-colors duration-300 relative group">
                Contact
                <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
            </a></li>
        </ul>
        
        <button id="downloadCV" class="bg-gradient-to-r from-primary to-primary-light text-white px-5 py-2.5 md:px-6 md:py-3 rounded-full font-semibold text-sm md:text-base transition-all duration-300 hover:transform hover:-translate-y-1 hover:shadow-xl">
            Download CV
        </button>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="min-h-screen hero-bg relative">
        <!-- Background Shapes -->
        <div class="absolute inset-0 overflow-hidden z-10">
            <div class="absolute w-16 h-16 md:w-20 md:h-20 top-1/5 left-1/10 rounded-full bg-primary bg-opacity-10 animate-float-shape"></div>
            <div class="absolute w-24 h-24 md:w-30 md:h-30 top-3/5 left-4/5 rounded-full bg-primary bg-opacity-10 animate-float-shape" style="animation-delay: 5s;"></div>
            <div class="absolute w-12 h-12 md:w-15 md:h-15 top-4/5 left-1/5 rounded-full bg-primary bg-opacity-10 animate-float-shape" style="animation-delay: 10s;"></div>
        </div>

        <div class="min-h-screen flex items-center px-8 md:px-12 relative z-20">
            <div class="max-w-3xl text-white">
                <div class="flex items-center text-primary font-semibold mb-5 opacity-0 transform translate-y-8 animate-fade-in-up mt-16 sm:mt-36" style="animation-delay: 0.2s;">
                    <div class="w-2.5 h-2.5 bg-primary rounded-full mr-4"></div>
                    Your Vision, My Code Expertise
                </div>
                
                <h1 class="text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-semibold leading-tight mb-6 md:mb-8 opacity-0 transform translate-y-8 animate-fade-in-up" style="animation-delay: 0.4s;">
                    I'm <span class="text-gradient typewriter">Chathuranga</span>,<br>
                    software engineer<br>
                    based in <span class="text-gradient">Sri Lanka</span>
                </h1>
                
                <p class="text-base md:text-md lg:text-lg leading-relaxed mb-8 md:mb-10 text-gray-300 opacity-0 transform translate-y-8 animate-fade-in-up max-w-2xl" style="animation-delay: 0.6s;">
                    Hi, I'm Chathuranga Malik, a passionate Software Engineer based in Sri Lanka. I specialize in 
                    crafting robust, scalable Laravel applications with Vue.js frontends using Inertia.js and Livewire. 
                    With 2+ years of focused Laravel development experience.
                </p>
                
                <div class="flex flex-col sm:flex-row gap-5 items-start sm:items-center opacity-0 transform translate-y-8 animate-fade-in-up" style="animation-delay: 0.8s;">
                    <a href="#contact" class="bg-gradient-to-r from-primary to-primary-light text-white px-6 md:px-8 py-3 md:py-4 rounded-full font-semibold hover:transform hover:-translate-y-1 hover:shadow-xl transition-all duration-300 animate-float inline-block text-center">
                        Get Started
                    </a>
                    
                    <button id="watchIntroBtn" class="flex items-center gap-4 text-white font-semibold hover:text-primary transition-colors duration-300 cursor-pointer">
                        <div class="play-btn w-8 h-8 md:w-12 md:h-12 border-2 border-primary rounded-full flex items-center justify-center bg-primary bg-opacity-10 transition-all duration-300 relative hover:bg-opacity-20 hover:scale-110"></div>
                        Watch Intro
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Animated Ticker Bar -->
    <section id="services-ticker" class="relative z-30 -mb-12">
        <iframe 
            src="animation.html"
            class="border-none w-full h-20 relative"
            frameborder="0"
            scrolling="no">
        </iframe>
    </section>
    
    <!-- About Us Section - Auto Height -->
    <section id="about" class="relative">
        <iframe 
            src="about.html" 
            class="about-iframe" 
            frameborder="0" 
            scrolling="no"
            onload="autoResizeIframe(this)">
        </iframe>
    </section>

    <!-- Footer Section - Auto Height -->
    <section id="footer" class="relative">
        <iframe 
            src="footer.html" 
            class="footer-iframe" 
            frameborder="0" 
            scrolling="no"
            onload="autoResizeIframe(this)">
        </iframe>
    </section>

    <!-- Video Modal -->
    <div id="videoModal" class="fixed inset-0 bg-black bg-opacity-80 hidden items-center justify-center z-50 px-4">
        <div class="bg-white rounded-lg p-4 md:p-6 max-w-4xl w-full relative">
            <button id="closeModal" class="absolute top-2 right-2 md:top-4 md:right-4 text-gray-500 hover:text-gray-700 text-2xl font-bold z-10">
                Ã—
            </button>
            <div class="aspect-video">
                <iframe id="videoIframe" class="w-full h-full rounded" src="" frameborder="0" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <!-- Custom Alert Modal -->
    <div id="alertModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 px-4">
        <div class="bg-white rounded-2xl p-6 md:p-8 max-w-md w-full relative shadow-2xl transform transition-all">
            <div class="text-center">
                <!-- Success Icon -->
                <div class="mx-auto flex items-center justify-center w-16 h-16 bg-gradient-to-r from-primary to-primary-light rounded-full mb-4">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                </div>
                
                <!-- Title -->
                <h3 class="text-2xl font-bold text-gray-900 mb-2">Thank You!</h3>
                
                <!-- Message -->
                <p class="text-gray-600 mb-6 leading-relaxed">
                    Your CV has been downloaded successfully. Thank you for your interest in my work! 
                    Feel free to reach out if you have any questions or opportunities to discuss.
                </p>
                
                <!-- Close Button -->
                <button id="closeAlertModal" class="bg-gradient-to-r from-primary to-primary-light text-white px-8 py-3 rounded-full font-semibold hover:transform hover:-translate-y-1 transition-all duration-300 w-full">
                    Close
                </button>
            </div>
        </div>
    </div>

    <script>
        // Auto-resize iframe to match content height
        function autoResizeIframe(iframe) {
            // Set initial height
            iframe.style.height = '600px';
            
            setTimeout(() => {
                try {
                    // Try to get the actual content height
                    const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                    if (iframeDoc && iframeDoc.body) {
                        const height = Math.max(
                            iframeDoc.body.scrollHeight,
                            iframeDoc.body.offsetHeight,
                            iframeDoc.documentElement.scrollHeight,
                            iframeDoc.documentElement.offsetHeight
                        );
                        
                        if (height > 0) {
                            iframe.style.height = height + 'px';
                            console.log(`Iframe resized to: ${height}px`);
                        }
                    }
                } catch (e) {
                    // Cross-origin fallback - set reasonable heights
                    if (iframe.classList.contains('about-iframe')) {
                        iframe.style.height = '1200px'; // Generous height for about section
                    } else if (iframe.classList.contains('footer-iframe')) {
                        iframe.style.height = '600px'; // Generous height for footer
                    }
                    console.log('Cross-origin restriction - using fallback height');
                }
            }, 200);
            
            // Additional resize after a longer delay to catch late-loading content
            setTimeout(() => {
                try {
                    const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                    if (iframeDoc && iframeDoc.body) {
                        const height = Math.max(
                            iframeDoc.body.scrollHeight,
                            iframeDoc.documentElement.scrollHeight
                        );
                        if (height > parseInt(iframe.style.height)) {
                            iframe.style.height = height + 'px';
                            console.log(`Iframe re-resized to: ${height}px`);
                        }
                    }
                } catch (e) {
                    // Silent fail for cross-origin
                }
            }, 1000);
        }

        // Page-specific JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Setup navbar scroll effect
            if (typeof PortfolioConfig !== 'undefined') {
                PortfolioConfig.setupNavbarScroll();
                PortfolioConfig.setupParallax('#home', 0.5);
            }

            // CV Download Function - Updated with real contact info
            document.getElementById('downloadCV').addEventListener('click', function() {
                const cvContent = `
CHATHURANGA MALIK
Software Engineer - Laravel Specialist

Contact Information:
ðŸ“§ Email: chathurangamalik1997@gmail.com
ðŸ“± Phone: +94763241451
ðŸ“± WhatsApp: +94763241451
ðŸŒ Location: Sri Lanka
ðŸ’¼ LinkedIn: www.linkedin.com/in/chathuranga-malik-b61295201
ðŸ™ GitHub: https://github.com/Chathuranga18sp045
ðŸ“˜ Facebook: https://www.facebook.com/chathuranga.malik/

PROFESSIONAL SUMMARY
Passionate Software Engineer with 2+ years of experience in Laravel development. 
Specialized in building robust, scalable web applications using Laravel framework with Vue.js, 
Inertia.js, and Livewire. Committed to delivering exceptional user experiences and clean code.

TECHNICAL SKILLS
â€¢ Backend Framework: Laravel (PHP) - 2+ years
â€¢ Frontend: Vue.js, Inertia.js, Livewire, HTML5, CSS3, Tailwind CSS
â€¢ Programming Languages: PHP, JavaScript, TypeScript
â€¢ Database: MySQL, PostgreSQL, MongoDB
â€¢ API Development: REST APIs, Laravel Sanctum, Passport
â€¢ Tools & Technologies: Git, Docker, Composer, NPM, AWS
â€¢ Testing: PHPUnit, Laravel Dusk

CORE EXPERTISE
â€¢ Laravel Framework Development
â€¢ Vue.js with Inertia.js Integration
â€¢ Livewire for Dynamic Components
â€¢ RESTful API Development
â€¢ Database Design & Optimization
â€¢ Authentication & Authorization
â€¢ Payment Gateway Integration
â€¢ Real-time Applications

EXPERIENCE
Laravel Developer | Company Name | 2023 - Present
â€¢ Developed and maintained Laravel applications with Vue.js frontends
â€¢ Implemented Inertia.js for seamless SPA experiences
â€¢ Built dynamic components using Livewire
â€¢ Created secure REST APIs with Laravel Sanctum
â€¢ Optimized database queries and application performance

EDUCATION
Bachelor's Degree in Computer Science/Software Engineering
University Name | Year

PROJECTS
â€¢ E-commerce Platform: Laravel + Vue.js + Inertia.js
â€¢ CRM System: Laravel + Livewire + Tailwind CSS
â€¢ API-driven Mobile App Backend: Laravel + REST API
â€¢ Real-time Chat Application: Laravel + WebSockets
                `;

                const blob = new Blob([cvContent], { type: 'text/plain' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'Chathuranga_Malik_Laravel_Developer_CV.txt';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
                
                // Show custom thank you modal
                showAlertModal();
            });

            // Alert Modal Functions
            function showAlertModal() {
                const alertModal = document.getElementById('alertModal');
                alertModal.classList.remove('hidden');
                alertModal.classList.add('flex');
            }

            function closeAlertModal() {
                const alertModal = document.getElementById('alertModal');
                alertModal.classList.add('hidden');
                alertModal.classList.remove('flex');
            }

            // Alert Modal Event Listeners
            document.getElementById('closeAlertModal').addEventListener('click', closeAlertModal);
            
            document.getElementById('alertModal').addEventListener('click', (e) => {
                if (e.target.id === 'alertModal') {
                    closeAlertModal();
                }
            });

            // Video Modal Functionality
            const watchIntroBtn = document.getElementById('watchIntroBtn');
            const videoModal = document.getElementById('videoModal');
            const closeModal = document.getElementById('closeModal');
            const videoIframe = document.getElementById('videoIframe');

            // Sample YouTube video - you can replace with your own intro video
            const videoUrl = 'https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1';

            watchIntroBtn.addEventListener('click', () => {
                videoIframe.src = videoUrl;
                videoModal.classList.remove('hidden');
                videoModal.classList.add('flex');
            });

            closeModal.addEventListener('click', closeVideoModal);
            
            videoModal.addEventListener('click', (e) => {
                if (e.target === videoModal) {
                    closeVideoModal();
                }
            });

            function closeVideoModal() {
                videoModal.classList.add('hidden');
                videoModal.classList.remove('flex');
                videoIframe.src = '';
            }

            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeVideoModal();
                }
            });

            // Dynamic typewriter effect
            function typeWriter() {
                const titleElement = document.querySelector('.typewriter');
                if (titleElement) {
                    titleElement.style.width = '0';
                    setTimeout(() => {
                        titleElement.style.width = '100%';
                    }, 500);
                }
            }

            // Initialize typewriter
            setTimeout(typeWriter, 1000);

            // Particle effect on button hover
            document.querySelectorAll('a[href="#contact"]').forEach(btn => {
                btn.addEventListener('mouseenter', function(e) {
                    const rect = this.getBoundingClientRect();
                    for (let i = 0; i < 10; i++) {
                        if (typeof PortfolioConfig !== 'undefined') {
                            PortfolioConfig.createParticle(rect.left + rect.width/2, rect.top + rect.height/2);
                        }
                    }
                });
            });

            // Add glitch effect on hover for title
            const heroTitle = document.querySelector('h1');
            if (heroTitle) {
                heroTitle.addEventListener('mouseenter', () => {
                    heroTitle.style.textShadow = `
                        2px 0 #ff0000,
                        -2px 0 #00ff00,
                        0 2px #0000ff
                    `;
                });

                heroTitle.addEventListener('mouseleave', () => {
                    heroTitle.style.textShadow = 'none';
                });
            }

            // Make showAlertModal available to iframe components
            window.showAlertModal = showAlertModal;

            // Window resize handler for iframes
            window.addEventListener('resize', () => {
                const aboutIframe = document.querySelector('.about-iframe');
                const footerIframe = document.querySelector('.footer-iframe');
                
                if (aboutIframe) autoResizeIframe(aboutIframe);
                if (footerIframe) autoResizeIframe(footerIframe);
            });
        });

        // Global function to be called from iframe onload
        window.autoResizeIframe = autoResizeIframe;
    </script>
</body>
</html>