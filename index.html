<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chathuranga Malik - Software Engineer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Load Common Configuration -->
    <script src="config.js"></script>
    
    <script>
        // Tailwind CSS Configuration
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#1dd1a1',
                        'primary-light': '#26d0ce',
                        'primary-dark': '#16a085',
                        'dark-overlay': '#0a2e2a',
                        'dark-bg': '#0f2027',
                        'about-bg': '#1a3332'
                    },
                    animation: {
                        'float-shape': 'floatShape 20s infinite linear',
                        'fade-in-up': 'fadeInUp 0.8s ease forwards',
                        'float': 'float 3s ease-in-out infinite',
                        'slide-in': 'slideIn 0.3s ease-out forwards',
                        'slide-out': 'slideOut 0.3s ease-in forwards'
                    },
                    keyframes: {
                        floatShape: {
                            '0%': { transform: 'translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateY(-100px) rotate(180deg)' },
                            '100%': { transform: 'translateY(0) rotate(360deg)' }
                        },
                        fadeInUp: {
                            'from': { opacity: '0', transform: 'translateY(30px)' },
                            'to': { opacity: '1', transform: 'translateY(0)' }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        slideIn: {
                            'from': { transform: 'translateX(100%)' },
                            'to': { transform: 'translateX(0)' }
                        },
                        slideOut: {
                            'from': { transform: 'translateX(0)' },
                            'to': { transform: 'translateX(100%)' }
                        }
                    },
                    backgroundImage: {
                    'hero-pattern':
                        'linear-gradient(to right, rgba(10, 46, 42, 0.9) 0%, rgba(10, 46, 42, 0.7) 30%, rgba(10, 46, 42, 0.3) 50%, transparent 100%), url("Images/my1.png")',
                    'logo-gradient': 'linear-gradient(135deg, #1dd1a1, #26d0ce)',
                    'btn-gradient':  'linear-gradient(135deg, #1dd1a1, #26d0ce)',
                    'text-gradient': 'linear-gradient(135deg, #1dd1a1, #26d0ce)'
                    }

                }
            }
        }
    </script>
    
    <style>
        /* Custom CSS that cannot be replicated with Tailwind */
        body {
            margin: 0;
            padding: 0;
            cursor: auto;
        }
        
        .hero-bg {
            background: linear-gradient(to right, rgba(10, 46, 42, 0.9) 0%, rgba(10, 46, 42, 0.7) 30%, rgba(10, 46, 42, 0.3) 50%, transparent 100%), 
                        url('Images/my1.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        /* Improved iframe styling with better height management - UPDATED TO INCLUDE CONTACT */
        .services-iframe, .about-iframe, .contact-iframe {
            border: none;
            width: 100%;
            display: block;
            transition: height 0.3s ease;
        }

        /* Specific iframe height management - IMPROVED FOR MOBILE WITH CONTACT */
        .services-iframe {
            min-height: 2000px; /* Increased for desktop */
        }

        .portfolio-iframe {
            border: none;
            width: 100%;
            display: block;
            transition: height 0.3s ease;
            min-height: 3200px; /* Base height for desktop */
        }

        .about-iframe {
            min-height: 900px; /* Increased for desktop */
        }

        .contact-iframe {
            min-height: 1100px; /* Contact section height for desktop */
        }

        /* Remove height constraints to allow natural sizing - UPDATED TO INCLUDE CONTACT */
        #services, #about, #contact {
            height: auto;
            overflow: visible;
        }

        /* Ensure seamless section transitions */
        section {
            margin: 0;
            padding: 0;
        }

        /* Remove any default margins that might cause gaps */
        iframe {
            margin: 0;
            vertical-align: top;
        }
        
        /* UPDATED NAVBAR STYLES - Changed navbar-solid to dark background */
        .navbar-transparent {
            background: transparent !important;
            backdrop-filter: none !important;
        }
        
        .navbar-solid {
            background: rgba(15, 23, 42, 0.95) !important; /* Dark slate background */
            backdrop-filter: blur(20px) !important;
            border-bottom: 1px solid rgba(29, 209, 161, 0.2) !important; /* Subtle primary border */
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1) !important;
        }
        
        .play-btn::before {
            content: '';
            width: 0;
            height: 0;
            border-left: 12px solid #1dd1a1;
            border-top: 8px solid transparent;
            border-bottom: 8px solid transparent;
            margin-left: 3px;
        }
        
        .text-gradient {
            background: linear-gradient(135deg, #1dd1a1, #26d0ce);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .typewriter {
            overflow: hidden;
            border-right: 3px solid #1dd1a1;
            white-space: nowrap;
            animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: #1dd1a1 }
        }
        
        /* IMPROVED Navigation active state - Better contrast against dark navbar */
        .nav-link.active {
            color: #1dd1a1 !important;
        }
        
        .nav-link.active .nav-underline {
            width: 100% !important;
            background: #1dd1a1 !important;
        }
        
        /* Enhanced hover effect for nav links when navbar is solid */
        .navbar-solid .nav-link:hover {
            color: #26d0ce !important;
        }
        
        /* Mobile Navigation */
        .mobile-nav {
            position: fixed;
            top: 0;
            right: 0;
            height: 100vh;
            width: 100%;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.98) 0%, rgba(30, 41, 59, 0.98) 100%);
            backdrop-filter: blur(20px);
            z-index: 100;
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
        }
        
        .mobile-nav.open {
            transform: translateX(0);
        }
        
        .mobile-nav-item {
            position: relative;
            overflow: hidden;
        }
        
        .mobile-nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(29, 209, 161, 0.1), transparent);
            transition: left 0.5s ease;
        }
        
        .mobile-nav-item:hover::before {
            left: 100%;
        }
        
        /* Hamburger Animation */
        .hamburger {
            display: flex;
            flex-direction: column;
            cursor: pointer;
            padding: 4px;
        }
        
        .hamburger span {
            display: block;
            height: 2px;
            width: 25px;
            background: white;
            margin: 3px 0;
            transition: all 0.3s ease;
        }
        
        .hamburger.open span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        
        .hamburger.open span:nth-child(2) {
            opacity: 0;
        }
        
        .hamburger.open span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }
        
        /* FIXED CURSOR STYLES - Specific cursor rules for clickable elements */
        /* Navigation Links */
        .nav-link,
        .mobile-nav-link,
        .footer-nav-link {
            cursor: pointer !important;
        }
        
        /* Buttons */
        button,
        .btn,
        .resume-btn,
        .newsletter-btn,
        .hamburger {
            cursor: pointer !important;
        }
        
        /* Links and Social Links */
        a,
        .social-link {
            cursor: pointer !important;
        }
        
        /* Form elements */
        input,
        textarea,
        select {
            cursor: text !important;
        }
        
        input[type="submit"],
        input[type="button"],
        input[type="reset"] {
            cursor: pointer !important;
        }
        
        /* Skill tags and interactive elements */
        .skill-tag,
        .contact-item,
        .play-btn,
        .watch-intro-btn {
            cursor: pointer !important;
        }
        
        /* Logo and brand elements that might be clickable */
        .logo-wrapper {
            cursor: pointer !important;
        }
        
        /* FOOTER STYLES - Integrated from footer.html */
        /* Custom CSS Variables - Matching your existing design */
        :root {
            --primary-color: #1dd1a1;
            --primary-light: rgba(29, 209, 161, 0.1);
            --primary-border: rgba(29, 209, 161, 0.2);
            --primary-glow: rgba(29, 209, 161, 0.4);
            /* Updated to match navbar dark background */
            --dark-bg: #0f1729;
            --dark-surface: #1e293b;
            --dark-overlay: #334155;
            --dark-accent: #475569;
            --text-muted: #8b949e;
        }

        /* Footer Background - Updated to match navbar style */
        .footer-bg {
            background: rgba(15, 23, 42, 0.98);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(29, 209, 161, 0.1);
            position: relative;
            overflow: hidden;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        /* Minimal floating accent */
        .floating-accent {
            position: absolute;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(29, 209, 161, 0.05) 0%, transparent 70%);
            border-radius: 50%;
            top: 20%;
            right: 10%;
            animation: floatAccent 15s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes floatAccent {
            0%, 100% { transform: translateY(0) scale(1); opacity: 0.3; }
            50% { transform: translateY(-30px) scale(1.1); opacity: 0.5; }
        }

        /* Clean logo with subtle glow */
        .logo-wrapper {
            position: relative;
        }

        .logo-glow {
            position: absolute;
            inset: -2px;
            background: linear-gradient(45deg, var(--primary-color), transparent, var(--primary-color));
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .logo-wrapper:hover .logo-glow {
            opacity: 1;
            animation: logoGlow 2s ease-in-out infinite;
        }

        @keyframes logoGlow {
            0%, 100% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.05); }
        }

        /* Brand logo replacing name */
        .brand-logo {
            height: 32px;
            width: auto;
            object-fit: contain;
            transition: all 0.3s ease;
            filter: brightness(1);
            cursor: pointer !important;
        }

        .brand-logo:hover {
            transform: scale(1.05);
            filter: brightness(1.1);
        }

        /* Modern social icons */
        .social-link {
            width: 44px;
            height: 44px;
            background: var(--primary-light);
            border: 1px solid var(--primary-border);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-decoration: none;
            cursor: pointer !important;
        }

        .social-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s ease;
        }

        .social-link:hover {
            transform: translateY(-2px);
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            box-shadow: 0 8px 25px rgba(29, 209, 161, 0.3);
        }

        .social-link:hover::before {
            left: 100%;
        }

        /* WhatsApp specific styling */
        .social-link.whatsapp:hover {
            background: #25d366;
            border-color: #25d366;
            box-shadow: 0 8px 25px rgba(37, 211, 102, 0.3);
        }

        /* Clean navigation links for footer */
        .footer-nav-link {
            color: var(--text-muted);
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            padding: 8px 0;
            display: inline-block;
            cursor: pointer !important;
        }

        .footer-nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--primary-color);
            transition: width 0.3s ease;
        }

        .footer-nav-link:hover {
            color: white;
            transform: translateX(4px);
        }

        .footer-nav-link:hover::after {
            width: 100%;
        }

        /* Newsletter section with email collection */
        .newsletter-card {
            background: linear-gradient(135deg, var(--primary-light), rgba(26, 208, 206, 0.05));
            border: 1px solid var(--primary-border);
            border-radius: 16px;
            padding: 24px;
            position: relative;
            backdrop-filter: blur(10px);
        }

        .newsletter-input {
            background: rgba(15, 32, 39, 0.8);
            border: 1px solid var(--primary-border);
            border-radius: 12px;
            padding: 12px 16px;
            color: white;
            outline: none;
            transition: all 0.3s ease;
            width: 100%;
            font-size: 14px;
            cursor: text !important;
        }

        .newsletter-input::placeholder {
            color: var(--text-muted);
        }

        .newsletter-input:focus {
            border-color: var(--primary-color);
            background: rgba(15, 32, 39, 0.9);
            box-shadow: 0 0 0 3px rgba(29, 209, 161, 0.1);
        }

        .newsletter-btn {
            background: linear-gradient(135deg, var(--primary-color), #26d0ce);
            border: none;
            border-radius: 12px;
            padding: 12px 20px;
            color: white;
            font-weight: 600;
            cursor: pointer !important;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-size: 14px;
        }

        .newsletter-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed !important;
        }

        .newsletter-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.4s ease;
        }

        .newsletter-btn:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(29, 209, 161, 0.4);
        }

        .newsletter-btn:hover:not(:disabled)::before {
            left: 100%;
        }

        /* Success/Error message styles */
        .message {
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 13px;
            margin-top: 8px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .message.success {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: #10b981;
        }

        .message.error {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
        }

        /* Clean skill tags */
        .skill-tag {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--primary-border);
            border-radius: 20px;
            padding: 6px 14px;
            color: var(--primary-color);
            font-size: 12px;
            font-weight: 500;
            transition: all 0.3s ease;
            display: inline-block;
            margin: 2px;
            cursor: pointer !important;
        }

        .skill-tag:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(29, 209, 161, 0.3);
        }

        /* Bottom section - Updated for cleaner look */
        .footer-bottom {
            border-top: 1px solid var(--primary-border);
            background: rgba(0, 0, 0, 0.2);
        }

        /* Contact info styling */
        .contact-info {
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--text-muted);
            transition: color 0.3s ease;
        }

        .contact-info:hover {
            color: white;
        }

        .contact-icon {
            width: 20px;
            height: 20px;
            color: var(--primary-color);
        }

        /* Typography improvements */
        .section-title {
            color: white;
            font-weight: 600;
            margin-bottom: 16px;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 24px;
            height: 2px;
            background: var(--primary-color);
            border-radius: 1px;
        }
        
        /* Mobile responsiveness - GREATLY IMPROVED WITH CONTACT SECTION */
        @media (max-width: 768px) {
    .hero-bg {
        background: linear-gradient(to right, rgba(10, 46, 42, 0.9) 0%, rgba(10, 46, 42, 0.7) 30%, rgba(10, 46, 42, 0.3) 50%, transparent 100%),
                    url('Images/my3.png');
        background-size: cover;
        background-position: center;
        background-attachment: scroll; /* Prevent fixed background issues on mobile */
    }

            .services-iframe {
                min-height: 2200px; /* Significantly increased for mobile */
            }

            .portfolio-iframe {
                min-height: 1800px; /* Portfolio needs more height on mobile */
            }

            .about-iframe {
                min-height: 1200px; /* Significantly increased for mobile */
            }

            .contact-iframe {
                min-height: 1300px; /* Contact section for mobile */
            }
            
            .floating-accent {
                display: none;
            }
            
            .social-link {
                width: 40px;
                height: 40px;
            }
            
            .newsletter-card {
                padding: 20px;
            }
        }

        /* Small mobile devices - CONTACT SECTION INCLUDED */
        @media (max-width: 480px) {
            .services-iframe {
                min-height: 3850px; /* Even more for small screens */
            }

            .portfolio-iframe {
                min-height: 6500px; /* Even more for small screens */
            }

            .about-iframe {
                min-height: 1200px; /* Even more for small screens */
            }

            .contact-iframe {
                min-height: 1500px; /* Contact section for small screens */
            }
        }

        /* Very small mobile devices - CONTACT SECTION INCLUDED */
        @media (max-width: 360px) {
            .services-iframe {
                min-height: 1600px; /* Maximum for very small screens */
            }

            .portfolio-iframe {
                min-height: 2400px; /* Maximum for very small screens */
            }

            .about-iframe {
                min-height: 1300px; /* Maximum for very small screens */
            }

            .contact-iframe {
                min-height: 1600px; /* Contact section for very small screens */
            }
        }

        /* Ensure body doesn't have extra height */
        html, body {
            height: auto;
            overflow-x: hidden;
        }
    </style>
</head>
<body class="overflow-x-hidden">
    <!-- Navigation -->
    <nav id="navbar" class="fixed top-0 w-full px-4 sm:px-8 md:px-12 py-4 flex justify-between items-center z-50 transition-all duration-300 navbar-transparent">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-gradient-to-r from-primary to-primary-light rounded-full flex items-center justify-center text-white font-bold text-sm">
                CM
            </div>
            <span class="text-xl font-bold text-white">Chathuranga.</span>
        </div>
        
        <!-- Desktop Navigation -->
        <ul class="hidden md:flex gap-8 lg:gap-10 list-none">
            <li><a href="#home" class="nav-link text-white font-medium hover:text-primary transition-colors duration-300 relative group">
                Home
                <span class="nav-underline absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
            </a></li>
            <li><a href="#about" class="nav-link text-white font-medium hover:text-primary transition-colors duration-300 relative group">
                About Me
                <span class="nav-underline absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
            </a></li>
            <li><a href="#services" class="nav-link text-white font-medium hover:text-primary transition-colors duration-300 relative group">
                Services
                <span class="nav-underline absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
            </a></li>
            <li><a href="#portfolio" class="nav-link text-white font-medium hover:text-primary transition-colors duration-300 relative group">
                Portfolio
                <span class="nav-underline absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
            </a></li>
            <li><a href="#contact" class="nav-link text-white font-medium hover:text-primary transition-colors duration-300 relative group">
                Contact
                <span class="nav-underline absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"></span>
            </a></li>
        </ul>
        
        <!-- Desktop CV Button -->
        <button id="downloadCV" class="hidden md:block bg-gradient-to-r from-primary to-primary-light text-white px-6 py-3 rounded-full font-semibold text-base transition-all duration-300 hover:transform hover:-translate-y-1 hover:shadow-xl">
            Download CV
        </button>
        
        <!-- Mobile Controls -->
        <div class="md:hidden flex items-center gap-3">
            <!-- Mobile CV Button (Icon Only) -->
            <button id="downloadCVMobile" class="bg-gradient-to-r from-primary to-primary-light text-white w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 hover:shadow-lg">
                <i class="fas fa-download text-sm"></i>
            </button>
            
            <!-- Mobile Menu Toggle -->
            <button id="mobileMenuToggle" class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Navigation Menu -->
    <div id="mobileNav" class="mobile-nav">
        <div class="flex flex-col h-full">
            <!-- Mobile Nav Header -->
            <div class="flex justify-between items-center p-6 border-b border-primary border-opacity-20">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-r from-primary to-primary-light rounded-full flex items-center justify-center text-white font-bold text-sm">
                        CM
                    </div>
                    <span class="text-xl font-bold text-white">Chathuranga.</span>
                </div>
                <button id="closeMobileNav" class="text-white text-2xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <!-- Mobile Navigation Links -->
            <nav class="flex-1 flex flex-col justify-center px-6">
                <ul class="space-y-6">
                    <li class="mobile-nav-item">
                        <a href="#home" class="mobile-nav-link block text-white text-2xl font-medium py-4 transition-all duration-300 hover:text-primary hover:translate-x-4">
                            <i class="fas fa-home mr-4 text-primary"></i>
                            Home
                        </a>
                    </li>
                    <li class="mobile-nav-item">
                        <a href="#about" class="mobile-nav-link block text-white text-2xl font-medium py-4 transition-all duration-300 hover:text-primary hover:translate-x-4">
                            <i class="fas fa-user mr-4 text-primary"></i>
                            About Me
                        </a>
                    </li>
                    <li class="mobile-nav-item">
                        <a href="#services" class="mobile-nav-link block text-white text-2xl font-medium py-4 transition-all duration-300 hover:text-primary hover:translate-x-4">
                            <i class="fas fa-cogs mr-4 text-primary"></i>
                            Services
                        </a>
                    </li>
                    <li class="mobile-nav-item">
                        <a href="#portfolio" class="mobile-nav-link block text-white text-2xl font-medium py-4 transition-all duration-300 hover:text-primary hover:translate-x-4">
                            <i class="fas fa-briefcase mr-4 text-primary"></i>
                            Portfolio
                        </a>
                    </li>
                    <li class="mobile-nav-item">
                        <a href="#contact" class="mobile-nav-link block text-white text-2xl font-medium py-4 transition-all duration-300 hover:text-primary hover:translate-x-4">
                            <i class="fas fa-envelope mr-4 text-primary"></i>
                            Contact
                        </a>
                    </li>
                </ul>
            </nav>
            
            <!-- Mobile Nav Footer -->
            <div class="p-6 border-t border-primary border-opacity-20">
                <div class="flex justify-center gap-4">
                    <a href="https://www.linkedin.com/in/chathuranga-malik-b61295201" class="w-12 h-12 bg-primary bg-opacity-20 rounded-full flex items-center justify-center text-primary transition-all duration-300 hover:bg-opacity-30">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="https://github.com/Chathuranga18sp045" class="w-12 h-12 bg-primary bg-opacity-20 rounded-full flex items-center justify-center text-primary transition-all duration-300 hover:bg-opacity-30">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="https://www.facebook.com/chathuranga.malik/" class="w-12 h-12 bg-primary bg-opacity-20 rounded-full flex items-center justify-center text-primary transition-all duration-300 hover:bg-opacity-30">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="mailto:chathurangamalik1997@gmail.com" class="w-12 h-12 bg-primary bg-opacity-20 rounded-full flex items-center justify-center text-primary transition-all duration-300 hover:bg-opacity-30">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section id="home" class="min-h-screen hero-bg relative">
        <!-- Background Shapes -->
        <div class="absolute inset-0 overflow-hidden z-10">
            <div class="absolute w-16 h-16 md:w-20 md:h-20 top-1/5 left-1/10 rounded-full bg-primary bg-opacity-10 animate-float-shape"></div>
            <div class="absolute w-24 h-24 md:w-30 md:h-30 top-3/5 left-4/5 rounded-full bg-primary bg-opacity-10 animate-float-shape" style="animation-delay: 5s;"></div>
            <div class="absolute w-12 h-12 md:w-15 md:h-15 top-4/5 left-1/5 rounded-full bg-primary bg-opacity-10 animate-float-shape" style="animation-delay: 10s;"></div>
        </div>

        <div class="min-h-screen flex items-center px-4 sm:px-8 md:px-12 relative z-20">
            <div class="max-w-3xl text-white">
                <div class="flex items-center text-primary font-semibold mb-5 opacity-0 transform translate-y-8 animate-fade-in-up mt-16 sm:mt-20 md:mt-36" style="animation-delay: 0.2s;">
                    <div class="w-2.5 h-2.5 bg-primary rounded-full mr-4"></div>
                    Your Vision, My Code Expertise
                </div>
                
                <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-semibold leading-tight mb-6 md:mb-8 opacity-0 transform translate-y-8 animate-fade-in-up" style="animation-delay: 0.4s;">
                    I'm <span class="text-gradient typewriter">Chathuranga</span>,<br>
                    software engineer<br>
                    based in <span class="text-gradient">Sri Lanka</span>
                </h1>
                
                <p class="text-sm sm:text-base md:text-md lg:text-lg leading-relaxed mb-8 md:mb-10 text-gray-300 opacity-0 transform translate-y-8 animate-fade-in-up max-w-2xl" style="animation-delay: 0.6s;">
                    Hi, I'm Chathuranga Malik, a passionate Software Engineer based in Sri Lanka. I specialize in 
                    crafting robust, scalable Laravel applications with Vue.js frontends using Inertia.js and Livewire. 
                    With 2+ years of focused Laravel development experience.
                </p>
                
                <div class="flex flex-col sm:flex-row gap-5 items-start sm:items-center opacity-0 transform translate-y-8 animate-fade-in-up" style="animation-delay: 0.8s;">
                    <a href="#contact" class="bg-gradient-to-r from-primary to-primary-light text-white px-6 md:px-8 py-3 md:py-4 rounded-full font-semibold hover:transform hover:-translate-y-1 hover:shadow-xl transition-all duration-300 animate-float inline-block text-center text-sm sm:text-base">
                        Get Started
                    </a>
                    
                    <button id="watchIntroBtn" class="flex items-center gap-4 text-white font-semibold hover:text-primary transition-colors duration-300">
                        <div class="play-btn w-8 h-8 md:w-12 md:h-12 border-2 border-primary rounded-full flex items-center justify-center bg-primary bg-opacity-10 transition-all duration-300 relative hover:bg-opacity-20 hover:scale-110"></div>
                        <span class="text-sm sm:text-base">Watch Intro</span>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Animated Ticker Bar -->
    <section id="services-ticker" class="relative z-30 -mb-12">
        <iframe 
            src="animation.html"
            class="border-none w-full h-16 sm:h-20 relative"
            frameborder="0"
            scrolling="no">
        </iframe>
    </section>
    
    <!-- About Us Section -->
    <section id="about" class="relative">
        <iframe 
            src="about.html" 
            class="about-iframe" 
            frameborder="0" 
            scrolling="no"
            onload="autoResizeIframe(this)">
        </iframe>
    </section>

    <!-- Services Section -->
    <section id="services" class="relative">
        <iframe 
            src="service.html" 
            class="services-iframe" 
            frameborder="0" 
            scrolling="no"
            onload="autoResizeIframe(this)">
        </iframe>
    </section>

    <!-- Portfolio Section -->
    <section id="portfolio" class="relative">
        <iframe 
            src="portfolio.html" 
            class="portfolio-iframe" 
            frameborder="0" 
            scrolling="no"
            onload="autoResizeIframe(this)">
        </iframe>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="relative">
        <iframe 
            src="contact.html" 
            class="contact-iframe" 
            frameborder="0" 
            scrolling="no"
            onload="autoResizeIframe(this)">
        </iframe>
    </section>

    <!-- Footer Section - Integrated directly instead of iframe -->
    <footer class="footer-bg text-white relative">
        <!-- Subtle floating accent -->
        <div class="floating-accent"></div>
        
        <!-- Main Footer Content -->
        <div class="container mx-auto px-6 py-12 relative z-10">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                
                <!-- Brand Section -->
                <div class="lg:col-span-1 fade-in-up" style="animation-delay: 0.1s;">
                    <div class="logo-wrapper mb-6 inline-block">
                        <div class="logo-glow"></div>
                        <div class="w-12 h-12 bg-gradient-to-r from-primary to-primary-light rounded-full flex items-center justify-center text-white font-bold text-lg relative z-10">
                            CM
                        </div>
                    </div>
                    
                    <!-- Replace "Chathuranga Malik" text with logo image -->
                    <div class="mb-4 -my-12">
                        <img 
                            src="Images/logo1.png" 
                            alt="Chathuranga Malik" 
                            class="brand-logo w-auto h-24"
                            loading="lazy"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
                        >
                        <!-- Fallback text (hidden by default) -->
                        <h3 class="text-xl font-bold" style="display: none;">
                            Chathuranga Malik
                        </h3>
                    </div>
                    
                    <p class="text-gray-400 leading-relaxed mb-6 text-sm sm:-mt-8">
                        Laravel & Vue.js specialist crafting modern web solutions. 
                        Passionate about clean code and exceptional user experiences.
                    </p>
                    
                    <!-- Clean Skills Tags -->
                    <div class="flex flex-wrap gap-1 mb-6">
                        <span class="skill-tag">Laravel</span>
                        <span class="skill-tag">Vue.js</span>
                        <span class="skill-tag">Inertia.js</span>
                        <span class="skill-tag">Livewire</span>
                        <span class="skill-tag">REST API</span>
                    </div>
                    
                    <!-- Modern Social Media with Real Links -->
                    <div class="flex gap-3">
                        <a href="https://www.linkedin.com/in/chathuranga-malik-b61295201" target="_blank" rel="noopener noreferrer" class="social-link" aria-label="LinkedIn">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                            </svg>
                        </a>
                        <a href="https://github.com/Chathuranga18sp045" target="_blank" rel="noopener noreferrer" class="social-link" aria-label="GitHub">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                            </svg>
                        </a>
                        <a href="https://www.facebook.com/chathuranga.malik/" target="_blank" rel="noopener noreferrer" class="social-link" aria-label="Facebook">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                            </svg>
                        </a>
                        <a href="https://wa.me/94763241451" target="_blank" rel="noopener noreferrer" class="social-link whatsapp" aria-label="WhatsApp">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.696"/>
                            </svg>
                        </a>
                        <a href="mailto:chathurangamalik1997@gmail.com" class="social-link" aria-label="Email">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                        </a>
                    </div>
                </div>
                
                <!-- Quick Links -->
                <div class="fade-in-up" style="animation-delay: 0.2s;">
                    <h4 class="section-title text-lg">Quick Links</h4>
                    <nav class="space-y-2">
                        <a href="#home" class="footer-nav-link block">Home</a>
                        <a href="#about" class="footer-nav-link block">About</a>
                        <a href="#services" class="footer-nav-link block">Services</a>
                        <a href="#portfolio" class="footer-nav-link block">Portfolio</a>
                        <a href="#contact" class="footer-nav-link block">Contact</a>
                    </nav>
                </div>
                
                <!-- Services -->
                <div class="fade-in-up" style="animation-delay: 0.3s;">
                    <h4 class="section-title text-lg">Services</h4>
                    <nav class="space-y-2">
                        <a href="#" class="footer-nav-link block">Laravel Development</a>
                        <a href="#" class="footer-nav-link block">Vue.js Applications</a>
                        <a href="#" class="footer-nav-link block">REST API Development</a>
                        <a href="#" class="footer-nav-link block">Database Design</a>
                        <a href="#" class="footer-nav-link block">Full-Stack Solutions</a>
                    </nav>
                </div>
                
                <!-- Newsletter & Contact -->
                <div class="fade-in-up" style="animation-delay: 0.4s;">
                    <h4 class="section-title text-lg">Stay Connected</h4>
                    
                    <!-- Newsletter with Email Collection -->
                    <div class="newsletter-card mb-6">
                        <p class="text-sm text-gray-400 mb-4">
                            Get updates on new projects and tech insights.
                        </p>
                        <form id="newsletterForm" class="space-y-3">
                            <input 
                                type="email" 
                                name="email"
                                placeholder="your@email.com" 
                                class="newsletter-input"
                                required
                            >
                            <button type="submit" class="newsletter-btn w-full" id="subscribeBtn">
                                Subscribe
                            </button>
                            <div id="messageContainer"></div>
                        </form>
                    </div>
                    
                    <!-- Contact Info with Real Data -->
                    <div class="space-y-3">
                        <div class="contact-info">
                            <svg class="contact-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                            <span class="text-sm">chathurangamalik1997@gmail.com</span>
                        </div>
                        <div class="contact-info">
                            <svg class="contact-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            <span class="text-sm">+94 76 324 1451</span>
                        </div>
                        <div class="contact-info">
                            <svg class="contact-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                            <span class="text-sm">Sri Lanka</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Clean Footer Bottom -->
        <div class="footer-bottom py-4 relative z-10">
            <div class="container mx-auto px-6">
                <div class="flex flex-col md:flex-row justify-between items-center gap-4 text-sm">
                    <div class="text-gray-400">
                        © 2025 Chathuranga Malik. All rights reserved.
                    </div>
                    <div class="flex gap-6">
                        <a href="#" class="text-gray-400 hover:text-primary transition-colors">Privacy Policy</a>
                        <a href="#" class="text-gray-400 hover:text-primary transition-colors">Terms of Service</a>
                        <a href="#" class="text-gray-400 hover:text-primary transition-colors">Sitemap</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Video Modal -->
    <div id="videoModal" class="fixed inset-0 bg-black bg-opacity-80 hidden items-center justify-center z-50 px-4">
        <div class="bg-white rounded-lg p-4 md:p-6 max-w-4xl w-full relative">
            <button id="closeModal" class="absolute top-2 right-2 md:top-4 md:right-4 text-gray-500 hover:text-gray-700 text-2xl font-bold z-10">
                ×
            </button>
            <div class="aspect-video">
                <iframe id="videoIframe" class="w-full h-full rounded" src="" frameborder="0" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <!-- Custom Alert Modal -->
    <div id="alertModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 px-4">
        <div class="bg-white rounded-2xl p-6 md:p-8 max-w-md w-full relative shadow-2xl transform transition-all">
            <div class="text-center">
                <!-- Success Icon -->
                <div class="mx-auto flex items-center justify-center w-16 h-16 bg-gradient-to-r from-primary to-primary-light rounded-full mb-4">
                    <i class="fas fa-check text-white text-xl"></i>
                </div>
                
                <!-- Title -->
                <h3 class="text-2xl font-bold text-gray-900 mb-2">Thank You!</h3>
                
                <!-- Message -->
                <p class="text-gray-600 mb-6 leading-relaxed">
                    Your CV has been downloaded successfully. Thank you for your interest in my work! 
                    Feel free to reach out if you have any questions or opportunities to discuss.
                </p>
                
                <!-- Close Button -->
                <button id="closeAlertModal" class="bg-gradient-to-r from-primary to-primary-light text-white px-8 py-3 rounded-full font-semibold hover:transform hover:-translate-y-1 transition-all duration-300 w-full">
                    Close
                </button>
            </div>
        </div>
    </div>

    <script>
        // Improved auto-resize iframe function with CONTACT SECTION PROPERLY INCLUDED
        function autoResizeIframe(iframe) {
            // Determine screen size
            const isMobile = window.innerWidth <= 768;
            const isSmallMobile = window.innerWidth <= 480;
            const isVerySmallMobile = window.innerWidth <= 360;
            
            // Set better initial heights based on iframe type and screen size
            const iframeType = iframe.classList.contains('services-iframe') ? 'services' :
                              iframe.classList.contains('about-iframe') ? 'about' :
                              iframe.classList.contains('portfolio-iframe') ? 'portfolio' :
                              iframe.classList.contains('contact-iframe') ? 'contact' : 'default';
            
            // Much more generous initial height settings INCLUDING CONTACT
            const initialHeights = {
                services: isVerySmallMobile ? 1600 : isSmallMobile ? 1400 : isMobile ? 1200 : 1200,
                about: isVerySmallMobile ? 1100 : isSmallMobile ? 1000 : isMobile ? 900 : 900,
                portfolio: isVerySmallMobile ? 2400 : isSmallMobile ? 2200 : isMobile ? 1800 : 1400,
                contact: isVerySmallMobile ? 1600 : isSmallMobile ? 1500 : isMobile ? 1300 : 1100,
                default: isMobile ? 800 : 600
            };
            
            iframe.style.height = initialHeights[iframeType] + 'px';
            
            // First attempt to resize after a short delay
            setTimeout(() => {
                try {
                    const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                    if (iframeDoc && iframeDoc.body) {
                        const bodyHeight = iframeDoc.body.scrollHeight;
                        const docHeight = iframeDoc.documentElement.scrollHeight;
                        const height = Math.max(bodyHeight, docHeight);
                        
                        if (height > 0 && height !== parseInt(iframe.style.height)) {
                            iframe.style.height = height + 'px';
                            console.log(`${iframeType} iframe resized to: ${height}px`);
                        }
                    }
                } catch (e) {
                    // Cross-origin fallback with much better mobile heights INCLUDING CONTACT
                    const fallbackHeights = {
                        services: isVerySmallMobile ? 1800 : isSmallMobile ? 1600 : isMobile ? 1400 : 1400,
                        about: isVerySmallMobile ? 1200 : isSmallMobile ? 1100 : isMobile ? 1000 : 1000,
                        contact: isVerySmallMobile ? 1700 : isSmallMobile ? 1600 : isMobile ? 1400 : 1200,
                        default: isMobile ? 1000 : 800
                    };
                    
                    iframe.style.height = fallbackHeights[iframeType] + 'px';
                    console.log(`${iframeType} iframe using fallback height: ${fallbackHeights[iframeType]}px`);
                }
            }, 200);
            
            // Second attempt after content loads
            setTimeout(() => {
                try {
                    const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                    if (iframeDoc && iframeDoc.body) {
                        const bodyHeight = iframeDoc.body.scrollHeight;
                        const docHeight = iframeDoc.documentElement.scrollHeight;
                        const height = Math.max(bodyHeight, docHeight);
                        
                        if (height > parseInt(iframe.style.height)) {
                            iframe.style.height = height + 'px';
                            console.log(`${iframeType} iframe re-resized to: ${height}px`);
                        }
                    }
                } catch (e) {
                    // Silent fail for cross-origin
                }
            }, 1000);
            
            // Final attempt after all content loads
            setTimeout(() => {
                try {
                    const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                    if (iframeDoc && iframeDoc.body) {
                        const bodyHeight = iframeDoc.body.scrollHeight;
                        const docHeight = iframeDoc.documentElement.scrollHeight;
                        const height = Math.max(bodyHeight, docHeight);
                        
                        if (height > parseInt(iframe.style.height)) {
                            iframe.style.height = height + 'px';
                            console.log(`${iframeType} iframe final resize to: ${height}px`);
                        }
                    }
                } catch (e) {
                    // Silent fail for cross-origin
                }
            }, 2000);
        }

        // Page-specific JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Setup navbar scroll effect
            setupNavbarScroll();
            setupActiveNavigation();
            
            // Mobile Navigation
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const mobileNav = document.getElementById('mobileNav');
            const closeMobileNav = document.getElementById('closeMobileNav');
            const hamburger = document.querySelector('.hamburger');
            
            // Open mobile menu
            mobileMenuToggle.addEventListener('click', () => {
                mobileNav.classList.add('open');
                hamburger.classList.add('open');
                document.body.style.overflow = 'hidden';
            });
            
            // Close mobile menu
            function closeMobileMenu() {
                mobileNav.classList.remove('open');
                hamburger.classList.remove('open');
                document.body.style.overflow = 'auto';
            }
            
            closeMobileNav.addEventListener('click', closeMobileMenu);
            
            // Close mobile menu when clicking on a link
            document.querySelectorAll('.mobile-nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    closeMobileMenu();
                    
                    // Scroll to section
                    const targetId = link.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    if (targetSection) {
                        targetSection.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // Close mobile menu when clicking outside
            mobileNav.addEventListener('click', (e) => {
                if (e.target === mobileNav) {
                    closeMobileMenu();
                }
            });

            // CV Download Function - Updated with real contact info
            function downloadCV() {
                const cvContent = `
CHATHURANGA MALIK
Software Engineer - Laravel Specialist

Contact Information:
📧 Email: chathurangamalik1997@gmail.com
📱 Phone: +94763241451
📱 WhatsApp: +94763241451
🌍 Location: Sri Lanka
💼 LinkedIn: www.linkedin.com/in/chathuranga-malik-b61295201
🐙 GitHub: https://github.com/Chathuranga18sp045
📘 Facebook: https://www.facebook.com/chathuranga.malik/

PROFESSIONAL SUMMARY
Passionate Software Engineer with 2+ years of experience in Laravel development. 
Specialized in building robust, scalable web applications using Laravel framework with Vue.js, 
Inertia.js, and Livewire. Committed to delivering exceptional user experiences and clean code.

TECHNICAL SKILLS
• Backend Framework: Laravel (PHP) - 2+ years
• Frontend: Vue.js, Inertia.js, Livewire, HTML5, CSS3, Tailwind CSS
• Programming Languages: PHP, JavaScript, TypeScript
• Database: MySQL, PostgreSQL, MongoDB
• API Development: REST APIs, Laravel Sanctum, Passport
• Tools & Technologies: Git, Docker, Composer, NPM, AWS
• Testing: PHPUnit, Laravel Dusk

CORE EXPERTISE
• Laravel Framework Development
• Vue.js with Inertia.js Integration
• Livewire for Dynamic Components
• RESTful API Development
• Database Design & Optimization
• Authentication & Authorization
• Payment Gateway Integration
• Real-time Applications

EXPERIENCE
Laravel Developer | Company Name | 2023 - Present
• Developed and maintained Laravel applications with Vue.js frontends
• Implemented Inertia.js for seamless SPA experiences
• Built dynamic components using Livewire
• Created secure REST APIs with Laravel Sanctum
• Optimized database queries and application performance

EDUCATION
Bachelor's Degree in Computer Science/Software Engineering
University Name | Year

PROJECTS
• E-commerce Platform: Laravel + Vue.js + Inertia.js
• CRM System: Laravel + Livewire + Tailwind CSS
• API-driven Mobile App Backend: Laravel + REST API
• Real-time Chat Application: Laravel + WebSockets
                `;

                const blob = new Blob([cvContent], { type: 'text/plain' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'Chathuranga_Malik_Laravel_Developer_CV.txt';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
                
                // Show custom thank you modal
                showAlertModal();
            }

            // CV Download buttons
            document.getElementById('downloadCV').addEventListener('click', downloadCV);
            document.getElementById('downloadCVMobile').addEventListener('click', downloadCV);

            // Alert Modal Functions
            function showAlertModal() {
                const alertModal = document.getElementById('alertModal');
                alertModal.classList.remove('hidden');
                alertModal.classList.add('flex');
            }

            function closeAlertModal() {
                const alertModal = document.getElementById('alertModal');
                alertModal.classList.add('hidden');
                alertModal.classList.remove('flex');
            }

            // Alert Modal Event Listeners
            document.getElementById('closeAlertModal').addEventListener('click', closeAlertModal);
            
            document.getElementById('alertModal').addEventListener('click', (e) => {
                if (e.target.id === 'alertModal') {
                    closeAlertModal();
                }
            });

            // Video Modal Functionality
            const watchIntroBtn = document.getElementById('watchIntroBtn');
            const videoModal = document.getElementById('videoModal');
            const closeModal = document.getElementById('closeModal');
            const videoIframe = document.getElementById('videoIframe');

            // Sample YouTube video - you can replace with your own intro video
            const videoUrl = 'https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1';

            watchIntroBtn.addEventListener('click', () => {
                videoIframe.src = videoUrl;
                videoModal.classList.remove('hidden');
                videoModal.classList.add('flex');
            });

            closeModal.addEventListener('click', closeVideoModal);
            
            videoModal.addEventListener('click', (e) => {
                if (e.target === videoModal) {
                    closeVideoModal();
                }
            });

            function closeVideoModal() {
                videoModal.classList.add('hidden');
                videoModal.classList.remove('flex');
                videoIframe.src = '';
            }

            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeVideoModal();
                    closeMobileMenu();
                }
            });

            // Dynamic typewriter effect
            function typeWriter() {
                const titleElement = document.querySelector('.typewriter');
                if (titleElement) {
                    titleElement.style.width = '0';
                    setTimeout(() => {
                        titleElement.style.width = '100%';
                    }, 500);
                }
            }

            // Initialize typewriter
            setTimeout(typeWriter, 1000);

            // Make showAlertModal available to iframe components
            window.showAlertModal = showAlertModal;

            // Window resize handler for iframes with improved responsiveness INCLUDING CONTACT
            window.addEventListener('resize', () => {
                const servicesIframe = document.querySelector('.services-iframe');
                const aboutIframe = document.querySelector('.about-iframe');
                const portfolioIframe = document.querySelector('.portfolio-iframe');
                const contactIframe = document.querySelector('.contact-iframe');
                
                // Re-resize all iframes on window resize INCLUDING CONTACT
                if (servicesIframe) autoResizeIframe(servicesIframe);
                if (aboutIframe) autoResizeIframe(aboutIframe);
                if (portfolioIframe) autoResizeIframe(portfolioIframe);
                if (contactIframe) autoResizeIframe(contactIframe);
            });

            // FOOTER SPECIFIC JAVASCRIPT - Integrated from footer.html
            
            // Intersection Observer for fade-in animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationPlayState = 'running';
                    }
                });
            }, observerOptions);

            // Observe all fade-in elements
            document.querySelectorAll('.fade-in-up').forEach(el => {
                el.style.animationPlayState = 'paused';
                observer.observe(el);
            });

            // Enhanced newsletter form with email collection
            const newsletterForm = document.getElementById('newsletterForm');
            const subscribeBtn = document.getElementById('subscribeBtn');
            const messageContainer = document.getElementById('messageContainer');

            if (newsletterForm) {
                newsletterForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    
                    const email = e.target.querySelector('input[type="email"]').value;
                    
                    // Show loading state
                    subscribeBtn.textContent = 'Subscribing...';
                    subscribeBtn.disabled = true;
                    messageContainer.innerHTML = '';
                    
                    try {
                        // Email submission simulation (replace with actual service)
                        const response = await submitEmail(email);
                        
                        if (response.success) {
                            showMessage('Thank you for subscribing! You\'ll receive updates about new projects and insights.', 'success');
                            e.target.reset();
                        } else {
                            showMessage('Subscription failed. Please try again later.', 'error');
                        }
                    } catch (error) {
                        console.error('Subscription error:', error);
                        showMessage('Network error. Please check your connection and try again.', 'error');
                    }
                    
                    // Reset button
                    setTimeout(() => {
                        subscribeBtn.textContent = 'Subscribe';
                        subscribeBtn.disabled = false;
                    }, 2000);
                });
            }

            // Email submission function
            async function submitEmail(email) {
                try {
                    // Replace with your actual email service (Formspree, Netlify Forms, etc.)
                    // For demonstration - simulate success after delay
                    return new Promise(resolve => {
                        setTimeout(() => {
                            // Simulate 90% success rate
                            const success = Math.random() > 0.1;
                            resolve({ success });
                        }, 1500);
                    });
                } catch (error) {
                    console.error('Email submission error:', error);
                    return { success: false };
                }
            }

            // Show success/error messages
            function showMessage(text, type) {
                const messageEl = document.createElement('div');
                messageEl.className = `message ${type}`;
                messageEl.textContent = text;
                messageContainer.appendChild(messageEl);
                
                // Auto-hide after 5 seconds
                setTimeout(() => {
                    if (messageEl.parentNode) {
                        messageEl.remove();
                    }
                }, 5000);
            }

            // Smooth scrolling for footer navigation links
            document.querySelectorAll('.footer-nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    const href = link.getAttribute('href');
                    if (href.startsWith('#')) {
                        e.preventDefault();
                        const target = document.querySelector(href);
                        if (target) {
                            target.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    }
                });
            });

            // Add subtle hover effects to social links
            document.querySelectorAll('.social-link').forEach(link => {
                link.addEventListener('mouseenter', () => {
                    link.style.transform = 'translateY(-2px) scale(1.05)';
                });
                
                link.addEventListener('mouseleave', () => {
                    link.style.transform = 'translateY(0) scale(1)';
                });
            });

            // Brand logo error handling
            const brandLogo = document.querySelector('.brand-logo');
            if (brandLogo) {
                brandLogo.addEventListener('load', () => {
                    console.log('Brand logo loaded successfully');
                });
                
                brandLogo.addEventListener('error', () => {
                    console.log('Brand logo failed to load, showing fallback text');
                    brandLogo.style.display = 'none';
                    brandLogo.nextElementSibling.style.display = 'block';
                });
            }

            // Skill tags interactive effects
            document.querySelectorAll('.skill-tag').forEach(tag => {
                tag.addEventListener('click', () => {
                    // Add ripple effect
                    const ripple = document.createElement('span');
                    ripple.style.cssText = `
                        position: absolute;
                        border-radius: 50%;
                        background: rgba(255,255,255,0.6);
                        transform: scale(0);
                        animation: ripple 0.6s ease-out;
                        pointer-events: none;
                    `;
                    
                    const rect = tag.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    ripple.style.width = ripple.style.height = size + 'px';
                    ripple.style.left = (rect.width / 2 - size / 2) + 'px';
                    ripple.style.top = (rect.height / 2 - size / 2) + 'px';
                    
                    tag.style.position = 'relative';
                    tag.appendChild(ripple);
                    
                    setTimeout(() => ripple.remove(), 600);
                });
            });

            // Add ripple animation
            const rippleStyle = document.createElement('style');
            rippleStyle.textContent = `
                @keyframes ripple {
                    to {
                        transform: scale(2);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(rippleStyle);

            // Add floating animation to accent
            const floatingAccent = document.querySelector('.floating-accent');
            if (floatingAccent) {
                let mouseX = 0, mouseY = 0;
                
                document.addEventListener('mousemove', (e) => {
                    mouseX = e.clientX / window.innerWidth;
                    mouseY = e.clientY / window.innerHeight;
                    
                    floatingAccent.style.transform = `
                        translateX(${mouseX * 20}px) 
                        translateY(${mouseY * 20}px)
                    `;
                });
            }
        });

        // Navbar scroll effect
        function setupNavbarScroll() {
            window.addEventListener('scroll', () => {
                const navbar = document.getElementById('navbar');
                if (navbar) {
                    const scrollPosition = window.scrollY;
                    const viewportHeight = window.innerHeight;
                    
                    if (scrollPosition >= viewportHeight * 0.9) {
                        navbar.classList.remove('navbar-transparent');
                        navbar.classList.add('navbar-solid');
                    } else {
                        navbar.classList.remove('navbar-solid');
                        navbar.classList.add('navbar-transparent');
                    }
                }
            });
        }

        // Active navigation highlighting
        function setupActiveNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section[id]');
            
            function updateActiveNavigation() {
                let currentSection = '';
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.offsetHeight;
                    const scrollPosition = window.scrollY + 200; // Offset for navbar
                    
                    if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                        currentSection = section.getAttribute('id');
                    }
                });
                
                // Update active states
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${currentSection}`) {
                        link.classList.add('active');
                    }
                });
            }
            
            // Initial check
            updateActiveNavigation();
            
            // Update on scroll
            window.addEventListener('scroll', updateActiveNavigation);
            
            // Smooth scroll for navigation links
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    if (targetSection) {
                        targetSection.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }

        // Global function to be called from iframe onload
        window.autoResizeIframe = autoResizeIframe;

    </script>
</body>
</html>